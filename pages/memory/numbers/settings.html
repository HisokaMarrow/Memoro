<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Number Memory - Game Settings</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="../../../styles/main.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet" />
  <style>
    .checkbox-row {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      gap: 40px;
      margin: 30px 0;
      flex-wrap: wrap;
      width: 100%;
      max-width: 500px;
    }

    .checkbox-option {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      width: 120px;
    }

    .checkbox-option input[type="checkbox"] {
      transform: scale(1.4);
      margin-bottom: 6px;
    }

    .checkbox-option label {
      font-size: 0.95em;
      line-height: 1.2;
    }

    .input-block {
      width: 100%;
      max-width: 500px;
      margin-bottom: 20px;
    }

    .input-block input {
      width: 100%;
      padding: 12px;
      font-size: 1em;
      border-radius: 6px;
      border: 1px solid #ccc;
      background-color: #f9f7f1;
    }

    .input-block label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
    }
  </style>
</head>
<body>

<header class="top-hud">
  <nav class="top-nav">
    <a href="../../../index.html">Home</a>
    <a href="../../memory.html">Memory Games</a>
    <a href="../../math.html">Math Training</a>
    <a href="../../riddles.html">Riddles</a>
    <a href="../../vault.html">Memory Vault</a>
  </nav>
</header>

<main>
  <div class="game-container" style="display: flex; flex-direction: column; align-items: center;">
    <h2>Number Memory Game - Settings</h2>

    <div class="input-block">
      <label for="delay">Delay Between Digits (seconds):</label>
      <input type="number" id="delay" value="3" min="1" />
    </div>

    <div class="input-block">
      <label for="rangeMax">Maximum Number Range (1 - ?):</label>
      <input type="number" id="rangeMax" value="99" min="1" />
    </div>

    <div class="input-block">
      <label for="testTime">Total Duration (seconds):</label>
      <input type="number" id="testTime" value="60" min="5" />
    </div>

    <div class="checkbox-row">
      <div class="checkbox-option">
        <input type="checkbox" id="padZeros" />
        <label for="padZeros">Use 01â€“09</label>
      </div>

      <div class="checkbox-option">
        <input type="checkbox" id="enableVoice" checked />
        <label for="enableVoice">Enable Voice</label>
      </div>

      <div class="checkbox-option">
        <input type="checkbox" id="speakIndividually" />
        <label for="speakIndividually">Speak Individually</label>
      </div>
    </div>

    <div style="margin-top: 30px; width: 100%; max-width: 500px;">
      <button class="button" style="width: 100%; padding: 16px; font-size: 1.2em;" onclick="startGame()">
        Start
      </button>
    </div>
  </div>
</main>

<script>
  function startGame() {
    const delay = document.getElementById("delay").value;
    const rangeMax = document.getElementById("rangeMax").value;
    const testTime = document.getElementById("testTime").value;
    const padZeros = document.getElementById("padZeros").checked;
    const enableVoice = document.getElementById("enableVoice").checked;
    const speakIndividually = document.getElementById("speakIndividually").checked;

    localStorage.setItem("delay", delay);
    localStorage.setItem("rangeMax", rangeMax);
    localStorage.setItem("testTime", testTime);
    localStorage.setItem("padZeros", padZeros);
    localStorage.setItem("enableVoice", enableVoice);
    localStorage.setItem("speakIndividually", speakIndividually);

    // Unlock speech synthesis
    const unlock = new SpeechSynthesisUtterance('');
    speechSynthesis.speak(unlock);

    // Slight delay to ensure speechSynthesis is unlocked
    setTimeout(() => {
      window.location.href = "game.html";
    }, 100);
  }
</script>

</body>
</html>